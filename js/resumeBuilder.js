var bio = {
	"name": "Elyasin Shaladi",
	"role": "Software/Web Engineer and PeopleSoft Expert",
	"contacts": {
		//"mobile": "please use email",
		"email": "Elyas.Shaladi@gmail.com",
		"github": "Elyasin",
		"twitter": "Elyasin_Shaladi",
		"linkedIn": "Elyasin Shaladi",
		"location": "Malaga, Spain"
	},
	"biopic": "images/ely.jpg",
	"welcomeMessage": "Welcome to my resume. <small>My name is Ely, born in the 80s. I speak German, English, French, Spanish and Arabic fluently and I like to spend my leisure time with Soccer, Gym, Running, Snowboard, Reading, Travelling, Languages & Cultures, MOOCs (online learning) and Finance. I am a diver.</small>",
	"skills": ["Programming", "Administration", "Databases", "Cloud Computing", "Client/Server", "PeopleSoft", "PeopleTools"]
};

var work = {
	"jobs": [
	{
		"title": "IT Consultant (Self Employed)",
		"employer": "Deutsche Bahn AG",
		"dates": "January 2013 - May 2014",
		"location": "Frankfurt, Germany",
		"description": "I lead an offshore team of 6 developers to upgrade from Peoplesoft HR 8.8 to PeopleSoft HR 9.2.<br>My team left me a wonderful farewell video, you can view it <a href='https://youtu.be/___srjxaElI' class='url'>here</a>"
	},
	{
		"title": "Senior Consultant",
		"employer": "Oracle",
		"dates": "April 2009 - August 2012",
		"location": "Malaga, Spain",
		"description": "I was mainly involved as PeopleTools developer/architect in many international implementation and upgrade projects throughout EMEA. Clients included Diesel (Italy), University of Glasgow (UK), Deutsche Bahn (Germany), SAIPEM (Italy), Barclays (UK), Chivas Brothers (UK), Lafarge (France), Carrefour (Spain) and ING Services (Poland)."
	},
	{
		"title": "IT Consultant",
		"employer": "Logica",
		"dates": "March 2006 - February 2009",
		"location": "Paris, France",
		"description": "I worked as a PeopleTools developer on several PeopleSoft implementation and upgrade projects based mainly in Paris. I also developed DataStage data integrations. Clients included Les Mousquetaires, Natixis, Natixis Factor, Coface.<br> I was nominated Employé Remarquable in 2007."
	}
	]
};

var projects = {
	"projects": [
		{
			"client": "",
			"title": "Come Malaka Expenses",
			"dates": "since 2014",
			"description": "Mobile first cloud application for shared travel expenses. I pursue this activity during my leisure time. I use the following technologies:<br>I use MongoDB as a database.<br>For the back-end I use Ruby On Rails.<br>For the front-end I use jQuery and Foundation.<br>I practice Continous Integration and deploy to the cloud. Have a look at my GitHub.",
			"images": ["images/come_malaka_expenses.jpg"]
		},
		{
			"client": "Diesel",
			"title": "PeopleSoft ePerformance & Profile Management",
			"dates": "June 2012 - July 2012",
			"description": "We implemented and integrated new performance management business processes with ePferomance and Profile Management.",
			"images": []
		},
		{
			"client": "Deutsche Bahn AG",
			"title": "PeopleSoft Audit",
			"dates": "May 2012",
			"description": "We carried out a PeopleSoft Audit on three axes: Implementation, Functional & Architecture. As the Implementation Expert I made sure the client is leveraging the delivered functionality optimally and helped the client understand better the challenges of possible future upgrades.",
			"images": [],
			"location": "Frankfurt, Germany"
		},
		{
			"client": "SAIPEM",
			"title": "PeopleSoft HR 9.1, CRM 9.1, Portal 9.1",
			"dates": "August 2011 - March 2012",
			"description": "We implemented and integrated several PeopleSoft applications using the Portal as the single point of access. The integration between HR 9.0 and CRM 9.1 was particularly challenging due to the large amount of data that needed to be migrated.",
			"images": [],
			"location": "Milan, Italy"
		},
		{
			"client": "Barclays",
			"title": "Secure Messaging System",
			"dates": "March 2011 - April 2011",
			"description": "We added and extended functionalities to the client’s secure messaging system (using cryptographic methods). We used XML as the message exchange format.",
			"images": [],
			"location": "Reading, UK"
		},
		{
			"client": "Chivas Brothers Ltd.",
			"title": "PeopleSoft HR - ELM integration",
			"dates": "Fabruary 2011",
			"description": "We integrated the PeopleSoft HR workforce with PeopleSoft Enterprise Learning Management.",
			"images": []
		},
		{
			"client": "Temasek Polytechnic",
			"title": "Technical Review/Audit",
			"dates": "December 2010 - January 2011",
			"description": "I conducted a technical review. The client was implementing PeopleSoft Directory Interface for user authentication on several PeopleSoft systems.",
			"images": []
		}, 
		{
			"client": "Carrefour",
			"title": "PeopleSoft eRecruitment/Candidate Gateway",
			"dates": "October 2010 - November 2010",
			"description": "Implementing the client’s highly customized eRecruitment and Candidate Gateway solution – used for Internal and External Recruitment Mobility.",
			"images": []
		},
		{
			"client": "Lafarge",
			"title": "PeopleSoft HR (Compensation)",
			"dates": "July 2010 - September 2010",
			"description": "I developed the enhancements for the company's compensation requirements for the year 2011.",
			"images": [],
			"location": "Paris, France"
		},
		{
			"client": "Carrefour",
			"title": "Integration of PeopleSoft Recruitment with 3rd party systems",
			"dates": "May 2010 - June 2010",
			"description": "I integrated the Recruitment application with external systems, mainly with Application Engine and Component Interface technology.",
			"images": []
		},
		{
			"client": "University of Glasgow",
			"title": "Functional Lead (PeopleSoft Campus Solutions)",
			"dates": "November 2009 - May 2010",
			"description": "I was the functional lead for the modules/functionalities Campus Community, 3C’s and HESA reporting (UK wide mandatory reporting standard). I also were managing the configuration database for the whole application, ensuring consistency of setup and help keeping track of the project progress and status.",
			"images": [],
			"location": "Glasgow, UK"
		},
		{
			"client": "ING Services Poland",
			"title": "PeopleSoft FSCM 9.0 installation",
			"dates": "September 2009",
			"description": "Multi-language installation of DEMO and SYS environments. We used Oracle as database.",
			"images": [],
			"location": "Katowice, Poland"
		},
		{
			"client": "Union Fenosa",
			"title": "Time & Labor customization",
			"dates": "April 2009",
			"description": "Design & development of customizations for Time & Labor 9.0.",
			"images": []
		},
		{
			"client": "Les Mousquetaires",
			"title": "Level 3 Support - PeopleSoft FSCM / FS",
			"dates": "April 2008 - February 2009",
			"description": "Offering 3rd level support for General Ledger, Account Receivables, Account Payables, Billing, eProcurement and a custom module named FS. My responsibility was the ensure support for the core modules GL and FS.",
			"images": []
		},
		{
			"client": "Natixis",
			"title": "Implementation project",
			"dates": "February 2008 - March 2008",
			"description": "I was lead the technical team in a sub project for the insurance division, integrating their business processes into the ongoing PeopleSoft systems (GL/EPM).",
			"images": []
		},
		{
			"client": "Natixis Factor/Coface",
			"title": "Implementation and integration project",
			"dates": "March 2007 - February 2008",
			"description": "I worked as a technical team leader on two sub projects (migration and integration). We used different technologies for different requirements (Component Interface, Application Engine and Integration Broker). A particular challenge was the integration with an external system using web services. I also took the role as Delivery Manager ensuring a smooth transition and integration into the rest of the project.",
			"images": []
		},
		{
			"client": "Natixis",
			"title": "DataStage & PeopleSoft devleopment",
			"dates": "March 2006 - February 2007",
			"description": "I was involved in the requirements analysis and the implementation and testing (Integration test, UAT, Acceptance test). My main focus was the migration and integration of General Ledger with EPM using IBM DataStage.",
			"images": []
		},
		{
			"client": "Several different companies",
			"title": "Several different roles in development, design and administration",
			"dates": "1998 - 2004",
			"description": "While at school and during studies I took several different jobs as intern, full-time, part-time or freelance.<br><u>Skills:</u><br>Application Development, Web Development, Network Administration, Training & Coaching (technical), Reporting framework.<br><u>Companies/Clients:</u><br>Kolibri GmbH, Travel Commerce AG, Verein für alternative Energieforschung e.V.,  Horst Fischer Consensus Treuhand, disy Informationssysteme GmbH, Laboratoire de modélisation et calcul.<br><u>Industries:</u><br>Consulting & IT, Research & Development, Public Sector, Tourism, Financial, High-Technology",
			"images": []
		}
	]
};

var education = {
	"schools": [
		{
			"name": "ENSIMAG",
			"location": "Grenoble, France",
			"degree": "Diplome d'ingenieur en informatique",
			"majors": ["Software Engineering", "Information Systems", "Business Studies"],
			"dates": "2006",
			"url": "http://ensimag.grenoble-inp.fr/"
		},
		{
			"name": "Karlsruhe Institute of Technology",
			"location": "Karlsruhe, Germany",
			"degree": "Diplominformatiker",
			"majors": ["Logic & Theorectical CS, Software Engineering & Compilers", "Business Studies"],
			"dates": "2006",
			"url": "https://www.informatik.kit.edu/"
		},
		{
			"name": "Université Stendhal",
			"location": "Grenoble, France",
			"degree": "Diplome Universitaire Francais Langue Etrangere",
			"majors": ["Francais Langue Etrangere"],
			"dates": "2012",
			"url": "http://www.u-grenoble3.fr/"
		}
	],
	"onlineCourses": [
		{
			"title": "MongoDB for DBAs",
			"school": "10gen - The MongoDB Company",
			"dates": "December 2012",
			"url": "http://tinyurl.com/abqbo7z"
		},
		{
			"title": "MongoDB for Developers",
			"school": "10gen - The MongoDB Company",
			"dates": "December 2012",
			"url": "http://tinyurl.com/aexkst6"
		},
		{
			"title": "Web Intelligence & Big Data",
			"school": "Coursera",
			"dates": "November 2012",
			"url": "https://drive.google.com/open?id=0By3FIUCgTZl8R1NWMjhNTzd6bzQ"
		},
		{
			"title": "Software Engineering for Software as a Service",
			"school": "Coursera",
			"dates": "April 2012",
			"url": "https://drive.google.com/open?id=0By3FIUCgTZl8SUJnTmpUYURZWXc"
		},
		{
			"title": "Creative, Serious and Playful Science of Android Apps",
			"school": "Coursera",
			"dates": "February 2014",
			"url": "https://drive.google.com/open?id=0By3FIUCgTZl8bUdsZGtPZmVuWVE"
		},
		{
			"title": "Programming Mobile Applications for Android Handheld Systems",
			"school": "Coursera",
			"dates": "March 2014",
			"url": "https://drive.google.com/open?id=0By3FIUCgTZl8b0lNU1RHczJaSDg"
		},
		{
			"title": "Pattern-Oriented Software Architectures: Programming Mobile Services for Android Handheld Systems",
			"school": "Coursera",
			"dates": "July 2014",
			"url": "https://drive.google.com/open?id=0By3FIUCgTZl8NWQ2aXhYWFg5bW8"
		},
		{
			"title": "Programming Cloud Services for Android Handheld Systems",
			"school": "Coursera",
			"dates": "September 2014",
			"url": "https://drive.google.com/open?id=0By3FIUCgTZl8TE1ldGY0b0hQeUk"
		}
	]
};

var controller = {
	init: function() {
		view.render()
	}
};

var view = {
	render: function() {
		bioView.render();
		workView.render();
		projectView.render();
		educationView.render();
	}
};

var bioView = {
	render: function() {
		var formattedName = HTMLheaderName.replace("%data%", bio.name);
		var formattedRole = HTMLheaderRole.replace("%data%", bio.role);
		$("#header").prepend(formattedRole);
		$("#header").prepend(formattedName);

		var formattedContact = HTMLmobile.replace("%data%", bio.contacts["mobile"]);
		//$("#topContacts").append(formattedContact);
		formattedContact = HTMLemail.replace("%data%", bio.contacts["email"]);
		$("#topContacts").append(formattedContact);
		$("#footerContacts").append(formattedContact);
		formattedContact = HTMLgithub.replace("%data%", bio.contacts["github"]);
		$("#topContacts").append(formattedContact);
		$("#footerContacts").append(formattedContact);
		formattedContact = HTMLcontactGeneric.replace("%contact%", "LinkedIn");
		formattedContact = formattedContact.replace("%data%", bio.contacts["linkedIn"]);
		$("#topContacts").append(formattedContact);
		$("#footerContacts").append(formattedContact);
		formattedContact = HTMLtwitter.replace("%data%", bio.contacts["twitter"]);
		$("#topContacts").append(formattedContact);
		$("#footerContacts").append(formattedContact);
		formattedContact = HTMLlocation.replace("%data%", bio.contacts["location"]);
		$("#topContacts").append(formattedContact);
		$("#footerContacts").append(formattedContact);

		var formattedBioPic = HTMLbioPic.replace("%data%", bio.biopic);
		$("#header").append(formattedBioPic);

		var formattedWelcomeMessage = HTMLwelcomeMsg.replace("%data%", bio.welcomeMessage);
		$("#header").append(formattedWelcomeMessage);

		if (bio.skills !== []) {
			$("#header").append(HTMLskillsStart);
			var formattedSkill;
			for (var skill in bio.skills) {
				formattedSkill = HTMLskills.replace("%data%", bio.skills[skill]);
				$("#skills:last").append(formattedSkill);
			};
		};
	}
};


var workView = {
	render: function() {
		for (job in work.jobs) {
			$("#workExperience").append(HTMLworkStart);

			var formattedEmployer = HTMLworkEmployer.replace("%data%", work.jobs[job].employer);
			var formattedTitle = HTMLworkTitle.replace("%data%", work.jobs[job].title);
			$(".work-entry:last").append(formattedEmployer + formattedTitle);

			var formattedWork = HTMLworkDates.replace("%data%", work.jobs[job].dates);
			$(".work-entry:last").append(formattedWork);

			formattedWork = HTMLworkLocation.replace("%data%", work.jobs[job].location);
			$(".work-entry:last").append(formattedWork);

			formattedWork = HTMLworkDescription.replace("%data%", work.jobs[job].description);
			$(".work-entry:last").append(formattedWork);
		};
	}
};



var projectView = {
	render: function() {
		var formattedProject;
		for (project in projects.projects) {

			$("#projects").append(HTMLprojectStart);

			var title;
			if (projects.projects[project].client !== "") {
				title = projects.projects[project].client + " - " + projects.projects[project].title;
			} else {
				title = projects.projects[project].title;
			}
			formattedProject = HTMLprojectTitle.replace("%data%", title);
			$(".project-entry:last").append(formattedProject);

			formattedProject = HTMLprojectDates.replace("%data%", projects.projects[project].dates);
			$(".project-entry:last").append(formattedProject);

			formattedProject = HTMLprojectDescription.replace("%data%", projects.projects[project].description);
			$(".project-entry:last").append(formattedProject);

			if (projects.projects[project].images.length !== 0) {
				for (image in projects.projects[project].images) {
					formattedProject = HTMLprojectImage.replace("%data%", projects.projects[project].images[image]);
					$(".project-entry:last").append(formattedProject);										
				};
			};
		};
	}
};




var educationView = {
	render: function() {
		var formattedSchool;
		for (school in education.schools) {

			$("#education").append(HTMLschoolStart);

			formattedSchool = HTMLschoolName.replace("%data%", education.schools[school].name);
			formattedSchool = formattedSchool + HTMLschoolDegree.replace("%data%", education.schools[school].degree);
			formattedSchool = formattedSchool.replace("#", education.schools[school].url);
			$(".education-entry:last").append(formattedSchool);

			formattedSchool = HTMLschoolDates.replace("%data%", education.schools[school].dates);
			$(".education-entry:last").append(formattedSchool);

			formattedSchool = HTMLschoolLocation.replace("%data%", education.schools[school].location);
			$(".education-entry:last").append(formattedSchool);

			formattedSchool = HTMLschoolMajor.replace("%data%", education.schools[school].majors.join(", "));
			$(".education-entry:last").append(formattedSchool);

			//formattedProject = HTMLprojectImage.replace("%data%", education.schools[school].image);
			//$(".project-entry:last").append(formattedProject);			
		}

		$("#education").append(HTMLonlineClasses);

		var formattedOnlineCourse;
		for(onlineCourse in education.onlineCourses) {
			$("#education").append(HTMLschoolStart);
			formattedOnlineCourse = HTMLonlineTitle.replace("%data%", education.onlineCourses[onlineCourse].title);
			formattedOnlineCourse = formattedOnlineCourse + HTMLonlineSchool.replace("%data%", education.onlineCourses[onlineCourse].school);
			$(".education-entry:last").append(formattedOnlineCourse);
			formattedOnlineCourse = HTMLonlineDates.replace("%data%", education.onlineCourses[onlineCourse].dates);
			$(".education-entry:last").append(formattedOnlineCourse);
			formattedOnlineCourse = HTMLonlineURL.replace("%data%", "Certificate");
			formattedOnlineCourse = formattedOnlineCourse.replace("#", education.onlineCourses[onlineCourse].url);
			$(".education-entry:last").append(formattedOnlineCourse);
		}

		$("#education").append(HTMLschoolStart);
		$(".education-entry:last").append("<br><p>I did many other interesting courses (related to my interests and hobbies). You can view more on my LinkedIn profile.</p>");
	}
};


function inName() {
	var names = bio.name.trim().split(" ");
	return names[0].slice(0,1).toUpperCase() + names[0].slice(1).toLowerCase() + " " + names	[1].toUpperCase();
};

controller.init();

$("#main").append(internationalizeButton);

$("#mapDiv").append(googleMap);
